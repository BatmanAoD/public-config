" vim: ft=vim
" This is for features not available in 7.2 and earlier

set relativenumber

" Useful if not using gVim
" TODO: figure out how to turn off the RelativeFocus autogroup once I've
" used this function to take manual control of this feature.
function! ToggleRelativeNumbering()
    if(&relativenumber == 1)
        set norelativenumber
    else
        set relativenumber
    endif
endfunction
nnoremap <Leader>l :call ToggleRelativeNumbering()<cr>

augroup RelativeFocus
    au FocusLost * :set norelativenumber
    au FocusGained * :set relativenumber
augroup END

set undodir=~/.vim/undodir
set undofile
set undolevels=1000 "maximum number of changes that can be undone
set undoreload=10000 "maximum number lines to save for undo on a buffer reload

" Bundles incompatible with older Vim
" These should take care of all the 'very magic' nonsense
" ......buuuuuut note that CRDispatcher actually only works with Vim 7.4+, not
" 7.3+. For now I'm not going to worry about it.
Bundle 'coot/CRDispatcher'
Bundle 'coot/EnchantedVim'
function! Disenchant()
    let g:VeryMagic = 0
endfunction
let g:VeryMagicSubstituteNormalise = 1
